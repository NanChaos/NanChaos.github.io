<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Dockeréƒ¨ç½²Minioä¸SpringBooté›†æˆ</title>
    <url>/2024/02/20/Docker%E9%83%A8%E7%BD%B2Minio%E4%B8%8ESpringBoot%E9%9B%86%E6%88%90/</url>
    <content><![CDATA[<h2 id="éƒ¨ç½²Minio"><a href="#éƒ¨ç½²Minio" class="headerlink" title="éƒ¨ç½²Minio"></a>éƒ¨ç½²Minio</h2><p>æœ¬æ–‡é€‰æ‹©ä½¿ç”¨Dockeréƒ¨ç½²ï¼Œçœç•¥Dockerçš„å®‰è£…æ­¥éª¤ï¼Œæ³¨æ„æ›¿æ¢</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">docker run -d -p 9000:9000 -p 9001:9001 </span><br><span class="line">--name minio \</span><br><span class="line">-e &quot;MINIO_SERVER_URL=http://192.168.0.1:9001&quot; \</span><br><span class="line">-e &quot;MINIO_ROOT_USER=admin&quot; \</span><br><span class="line">-e &quot;MINIO_ROOT_PASSWORD=1234567890&quot; \</span><br><span class="line">-v /nanchaos/env/docker-container/minio/data:/data \</span><br><span class="line">-v /nanchaos/env/docker-container/minio/config:/root/.minio minio/minio server /data --console-address &quot;:9000&quot; --address &quot;:9001&quot;</span><br></pre></td></tr></table></figure>
<p>æˆåŠŸåè®¿é—®<a href="http://192.168.0.1:9000/">http://192.168.0.1:9000</a>å³å¯<br><img src="http://110.42.134.48:9001/chaos-oss/20240220/minio_login.png" alt="minio login"></p>
<h2 id="SpringBooté›†æˆ"><a href="#SpringBooté›†æˆ" class="headerlink" title="SpringBooté›†æˆ"></a>SpringBooté›†æˆ</h2><h3 id="maven"><a href="#maven" class="headerlink" title="maven"></a>maven</h3><p>æ·»åŠ ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.minio<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>minio<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.5.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¯é€‰--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-lang3<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¯é€‰--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.squareup.okhttp3<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>okhttp<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¯é€‰--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.83<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="ç”Ÿæˆbucketç­‰"><a href="#ç”Ÿæˆbucketç­‰" class="headerlink" title="ç”Ÿæˆbucketç­‰"></a>ç”Ÿæˆbucketç­‰</h3><p>å‰å¾€æ§åˆ¶å°<a href="http://192.168.0.1:9000/">http://192.168.0.1:9000</a>ç”Ÿæˆbucketã€accessKeyä¸secretKey<br><img src="http://110.42.134.48:9001/chaos-oss/20240220/add_bucket_and_key.png" alt="minio bucket"></p>
<h3 id="application-ymlé…ç½®"><a href="#application-ymlé…ç½®" class="headerlink" title="application.ymlé…ç½®"></a>application.ymlé…ç½®</h3><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">minio:</span></span><br><span class="line">  <span class="attr">accessKey:</span> <span class="string">æ›¿æ¢ä¸ºåˆšåˆšç”Ÿæˆçš„accessKey</span></span><br><span class="line">  <span class="attr">secretKey:</span> <span class="string">æ›¿æ¢ä¸ºåˆšåˆšç”Ÿæˆçš„secretKey</span></span><br><span class="line">  <span class="attr">endpoint:</span> <span class="string">http://192.168.0.1:9001/</span></span><br><span class="line">  <span class="attr">bucketName:</span> <span class="string">æ›¿æ¢ä¸ºåˆšåˆšç”Ÿæˆçš„bucket</span></span><br></pre></td></tr></table></figure>
<h3 id="Java-Code"><a href="#Java-Code" class="headerlink" title="Java Code"></a>Java Code</h3><h4 id="minio-configuration"><a href="#minio-configuration" class="headerlink" title="minio configuration"></a>minio configuration</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nanchaos.chaososs.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.minio.MinioClient;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * minio config</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> nanchaos</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2024/2/19</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@time</span> 19:33</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MinioConfiguration</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¿é—®åœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;minio.endpoint&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String endpoint;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * accessKey</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;minio.accessKey&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String accessKey;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * secretKey</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;minio.secretKey&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String secretKey;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é»˜è®¤å­˜å‚¨æ¡¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;minio.bucketName&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String bucketName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MinioClient <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> MinioClient.builder()</span><br><span class="line">                .endpoint(endpoint)</span><br><span class="line">                .credentials(accessKey, secretKey)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="minio-util"><a href="#minio-util" class="headerlink" title="minio util"></a>minio util</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.nanchaos.chaososs.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.nanchaos.chaososs.common.constants.Constant;</span><br><span class="line"><span class="keyword">import</span> com.nanchaos.chaososs.common.enums.ErrorCodeEnum;</span><br><span class="line"><span class="keyword">import</span> com.nanchaos.chaososs.common.enums.ViewContentTypeEnum;</span><br><span class="line"><span class="keyword">import</span> com.nanchaos.chaososs.common.exception.OssException;</span><br><span class="line"><span class="keyword">import</span> com.nanchaos.chaososs.config.MinioConfiguration;</span><br><span class="line"><span class="keyword">import</span> io.minio.MinioClient;</span><br><span class="line"><span class="keyword">import</span> io.minio.PutObjectArgs;</span><br><span class="line"><span class="keyword">import</span> io.minio.RemoveObjectArgs;</span><br><span class="line"><span class="keyword">import</span> io.minio.errors.*;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.StringUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.lang3.exception.ExceptionUtils;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.Assert;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.security.InvalidKeyException;</span><br><span class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.UUID;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * MinIOå·¥å…·ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MinioUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> MinioClient minioClient;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> MinioConfiguration minioConfiguration;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMinioClient</span><span class="params">(MinioClient minioClient)</span> &#123;</span><br><span class="line">        MinioUtil.minioClient = minioClient;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMinioConfiguration</span><span class="params">(MinioConfiguration minioConfiguration)</span> &#123;</span><br><span class="line">        MinioUtil.minioConfiguration = minioConfiguration;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> inputStream stream</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> extName     æ–‡ä»¶åŸå§‹æ‹“å±•å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> filename    è‡ªå®šä¹‰æ–‡ä»¶åï¼Œå¦‚æœä¸ä¼ ä¼šä½¿ç”¨UUID</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">upload</span><span class="params">(InputStream inputStream, String extName, String filename)</span> &#123;</span><br><span class="line">        Assert.isTrue(StringUtils.isNotEmpty(extName), <span class="string">&quot;extNameä¸å¯ä¸ºç©º&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (StringUtils.isEmpty(filename))</span><br><span class="line">            filename = UUID.randomUUID().toString().replace(Constant.SEPARATOR_DASH, Constant.EMPTY);</span><br><span class="line">        <span class="type">String</span> <span class="variable">objectName</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyyMMdd/&quot;</span>).format(<span class="keyword">new</span> <span class="title class_">Date</span>()) + filename + Constant.SEPARATOR_DOT + extName;</span><br><span class="line">        String path;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            path = baseUpload(minioConfiguration.getBucketName(), objectName, inputStream, ViewContentTypeEnum.getContentType(extName));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;MinioUtil upload event failure, caused by: &#123;&#125;&quot;</span>, ExceptionUtils.getStackTrace(e));</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">OssException</span>(ErrorCodeEnum.SYSTEM_EXCEPTION, String.format(<span class="string">&quot;ä¸Šä¼ å¤±è´¥: %s&quot;</span>, ExceptionUtils.getRootCauseMessage(e)));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(path);</span><br><span class="line">        <span class="keyword">return</span> path;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">baseUpload</span><span class="params">(String bucketName, String objectName, InputStream inputStream, String contentType)</span> <span class="keyword">throws</span> ServerException, InsufficientDataException, ErrorResponseException, IOException, NoSuchAlgorithmException, InvalidKeyException, InvalidResponseException, XmlParserException, InternalException &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">stringBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">PutObjectArgs</span> <span class="variable">param</span> <span class="operator">=</span> PutObjectArgs.builder().bucket(bucketName)</span><br><span class="line">                <span class="comment">// objectName å¯ä»¥ç†è§£ä¸ºè·¯å¾„ï¼Œå¦‚20240210/aaa.jpg, å³ä¸ºå­˜å‚¨åˆ°$&#123;bucket&#125;ä¸‹çš„20240210çš„æ–‡ä»¶ä¸‹ï¼Œé‡å‘½åä¸ºaaa.jpg</span></span><br><span class="line">                .object(objectName)</span><br><span class="line">                <span class="comment">// å»ºè®®è®¾ç½®ï¼Œé»˜è®¤ä¸ºapplication/octet-stream è¯¥ç±»å‹ä¸Šä¼ åæ˜¯ä¸èƒ½é¢„è§ˆçš„ï¼Œä¼šç›´æ¥å‘èµ·ä¸‹è½½</span></span><br><span class="line">                .contentType(contentType)</span><br><span class="line">                .stream(inputStream, inputStream.available(), -<span class="number">1</span>)</span><br><span class="line">                .build();</span><br><span class="line">        minioClient.putObject(param);</span><br><span class="line">        stringBuilder.append(minioConfiguration.getEndpoint()).append(minioConfiguration.getBucketName()).append(Constant.SEPARATOR_SLASH).append(objectName);</span><br><span class="line">        <span class="keyword">return</span> stringBuilder.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">removeFile</span><span class="params">(String bucketName, String objectName)</span> <span class="keyword">throws</span> ServerException, InsufficientDataException, ErrorResponseException, IOException, NoSuchAlgorithmException, InvalidKeyException, InvalidResponseException, XmlParserException, InternalException &#123;</span><br><span class="line">        <span class="type">RemoveObjectArgs</span> <span class="variable">param</span> <span class="operator">=</span> RemoveObjectArgs.builder().bucket(bucketName).object(objectName).build();</span><br><span class="line">        minioClient.removeObject(param);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <tags>
        <tag>SpringBoot</tag>
        <tag>minio</tag>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexoä½¿ç”¨ä¸è®°å½•</title>
    <url>/2024/02/20/Hexo%E4%BD%BF%E7%94%A8%E4%B8%8E%E8%AE%B0%E5%BD%95/</url>
    <content><![CDATA[<p>è®°å½•ä¸‹HEXOçš„æ­å»ºè¿‡ç¨‹ï¼Œä»¥åŠéƒ¨åˆ†æ’ä»¶çš„ä½¿ç”¨ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°æœ‰éœ€è¦çš„äºº</p>
<blockquote>
<p><strong>æœ‰ä¸€ç‚¹ï¼Œåˆ‡å‹¿æ€¥ç€å»è®¾ç½®é¡¹ç›®çš„originï¼Œè¿™ä¸ªå¯ä»¥åœ¨å¼„æ˜ç™½ä¹‹åå†è®¾ç½®ï¼ï¼ï¼</strong></p>
</blockquote>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="install-git"><a href="#install-git" class="headerlink" title="install git"></a>install git</h3><p>ç½‘ç»œä¸Šæœ‰ç°æˆçš„ï¼Œç•¥â€¦ (Mac æ¨èXcode)</p>
<h3 id="install-node"><a href="#install-node" class="headerlink" title="install node"></a>install node</h3><p>ç½‘ç»œä¸Šæœ‰ç°æˆçš„ï¼Œç•¥â€¦(Mac æ¨èHomebrew)</p>
<h3 id="Hexoå®‰è£…ä¸é¡¹ç›®åˆ›å»º"><a href="#Hexoå®‰è£…ä¸é¡¹ç›®åˆ›å»º" class="headerlink" title="Hexoå®‰è£…ä¸é¡¹ç›®åˆ›å»º"></a>Hexoå®‰è£…ä¸é¡¹ç›®åˆ›å»º</h3><h4 id="hexoå®‰è£…"><a href="#hexoå®‰è£…" class="headerlink" title="hexoå®‰è£…"></a>hexoå®‰è£…</h4><p>æ²¡ä»€ä¹ˆå¤šè¯´çš„ï¼Œæ‰§è¡Œä¸‹å°±å¯ä»¥</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<h4 id="åˆå§‹åŒ–blogé¡¹ç›®"><a href="#åˆå§‹åŒ–blogé¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–blogé¡¹ç›®"></a>åˆå§‹åŒ–blogé¡¹ç›®</h4><p>æ‰¾ä¸€ä¸ªç©ºç›®å½•ï¼Œç”¨äºå­˜æ”¾blogçš„ï¼Œåˆå§‹åŒ–blogé¡¹ç›®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>

<p>åˆå§‹åŒ–æˆåŠŸåï¼Œè¿è¡Œä¸‹æ–¹å‘½ä»¤ï¼Œå¯äºæœ¬åœ°è¿è¡ŒæŸ¥çœ‹</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p>ç»“æœå¦‚ä¸‹ï¼Œè®¿é—®<a href="http://localhost:4000/">http://localhost:4000/</a>å³å¯æŸ¥çœ‹ï¼Œè¿™é‡Œå°±ä¸æˆªå›¾äº†</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000/ . Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure>
<p><img src="/./../images/execute_hexo_s_result.png" alt="hexo sæ‰§è¡Œç»“æœ"></p>
<h3 id="Githubç›¸å…³æ“ä½œ"><a href="#Githubç›¸å…³æ“ä½œ" class="headerlink" title="Githubç›¸å…³æ“ä½œ"></a>Githubç›¸å…³æ“ä½œ</h3><p>Hexoé¡¹ç›®åˆ›å»ºæˆåŠŸåï¼Œéœ€è¦çš„å°±æ˜¯åˆ›å»ºgithubé¡¹ç›®ï¼Œè®¿é—®<a href="https://www.github.com/">Github</a></p>
<h4 id="1-åˆ›å»ºä»“åº“"><a href="#1-åˆ›å»ºä»“åº“" class="headerlink" title="1. åˆ›å»ºä»“åº“"></a>1. åˆ›å»ºä»“åº“</h4><p>åˆ›å»ºåç§°ä¸º<code>$&#123;yourAccountName&#125;.github.io</code>çš„ä»“åº“(åŒºåˆ†å¤§å°å†™),å¦‚æœä½ çš„è´¦æˆ·åæ˜¯<code>JamesGosling</code>,é‚£ä»“åº“åå°±æ˜¯<code>JamesGosling.github.io</code><br><img src="/./../images/github_add_new_repo.png" alt="add new repo"></p>
<h3 id="å…³è”Github-ä»“åº“ä¸Hexoé¡¹ç›®"><a href="#å…³è”Github-ä»“åº“ä¸Hexoé¡¹ç›®" class="headerlink" title="å…³è”Github ä»“åº“ä¸Hexoé¡¹ç›®"></a>å…³è”Github ä»“åº“ä¸Hexoé¡¹ç›®</h3><h4 id="å®‰è£…æ¨¡å—"><a href="#å®‰è£…æ¨¡å—" class="headerlink" title="å®‰è£…æ¨¡å—"></a>å®‰è£…æ¨¡å—</h4><p>åœ¨é¡¹ç›®ç›®å½•ä¸­æ‰§è¡Œ</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<h4 id="Hexoé…ç½®repo"><a href="#Hexoé…ç½®repo" class="headerlink" title="Hexoé…ç½®repo"></a>Hexoé…ç½®repo</h4><p>ä¿®æ”¹<code>_config.yml</code>ï¼Œæ³¨æ„æ›¿æ¢ä¸ºè‡ªå·±çš„</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:NanChaos/NanChaos.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure>
<h5 id="repo"><a href="#repo" class="headerlink" title="repo"></a>repo</h5><p>repoæ˜¯httpè¿˜æ˜¯SSHçš„ï¼Œæ— æ‰€è°“ï¼Œéƒ½å¯ä»¥</p>
<h5 id="branch"><a href="#branch" class="headerlink" title="branch:"></a>branch:</h5><p>è¿™é‡Œçš„branchæ˜¯æŒ‡å°†é¡¹ç›®æ‰“åŒ…åæ‰€åœ¨çš„åˆ†æ”¯ï¼ˆæ¯æ¬¡éƒ½ä¼šå¼ºåˆ¶è¦†ç›–ï¼‰ï¼ŒGitHub Pagesä½¿ç”¨çš„åˆæ˜¯ä¸€ä¸ªåˆ†æ”¯ï¼Œè¿™ä¸¤ä¸ªæ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥äºŒè€…è¦ç»Ÿä¸€ã€‚</p>
<p>æœ‰äº›è€çš„æ•™ç¨‹è¿™é‡Œå†™çš„æ˜¯masterï¼Œæ˜¯å› ä¸ºæ—§ç‰ˆGithubçš„é»˜è®¤åˆ†æ”¯æ˜¯masterï¼Œä½†æ˜¯ç°åœ¨Nå¹´å‰å·²ç»æ”¹æ‰äº†ï¼Œç›®å‰GitHubçš„é»˜è®¤åˆ†æ”¯æ˜¯<code>main</code>ï¼Œå¦‚æœä¸ç¡®å®šï¼Œå¯ä»¥è‡ªå·±å†ç¡®è®¤ä¸‹,<code>repo-&gt;settings-&gt;pages</code>ã€‚</p>
<p>æœ€ç»ˆç”¨å“ªä¸ªåˆ†æ”¯ï¼Œå–å†³äºè‡ªå·±ï¼Œä½†æ˜¯å°±ä¸€ç‚¹ï¼Œä¸¤è€…è¦ä¿æŒä¸€è‡´ï¼Œå¦‚æœå®³æ€•å‡ºé”™ï¼ŒGithubä¸Šçš„æ˜¯ä»€ä¹ˆï¼Œ<code>_config.yml</code>ä¸­å°±å¡«ä»€ä¹ˆã€‚<br><img src="/./../images/github_pages_branch.png" alt="GithubPages"></p>
<h3 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h3><p>deployé¡¹ç›®ï¼Œ<code>GitHub-&gt;your repo-&gt;Actions</code>ä¼šæœ‰è®°å½•ï¼Œè‹¥ä¸€åˆ‡éƒ½æ²¡é—®é¢˜ï¼Œå°±å¯ä»¥è®¿é—®äº†ï¼Œåœ°å€å¦‚å›¾ä¸­æ‰€ç¤º</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p><img src="/./../images/github_action.png" alt="GitHub Action"><br><img src="/./../images/github_action_deploy.png" alt="GitHub Action Deploy Address"></p>
<h3 id="æ·»åŠ åŸŸåï¼ˆå¯è·³è¿‡ï¼‰"><a href="#æ·»åŠ åŸŸåï¼ˆå¯è·³è¿‡ï¼‰" class="headerlink" title="æ·»åŠ åŸŸåï¼ˆå¯è·³è¿‡ï¼‰"></a>æ·»åŠ åŸŸåï¼ˆå¯è·³è¿‡ï¼‰</h3><p>è¦èŠ±é’±çš„åœ°æ–¹æ¥äº†</p>
<h4 id="è´­ä¹°åŸŸåä¸DNSæœåŠ¡"><a href="#è´­ä¹°åŸŸåä¸DNSæœåŠ¡" class="headerlink" title="è´­ä¹°åŸŸåä¸DNSæœåŠ¡"></a>è´­ä¹°åŸŸåä¸DNSæœåŠ¡</h4><p>å¦‚æœéœ€è¦è‡ªå®šä¹‰åŸŸåè®¿é—®ï¼Œå°±éœ€è¦è´­ä¹°åŸŸåï¼Œæ¯”å¦‚æœ¬ç«™ä½¿ç”¨çš„<a href="http://nanchaos.com/">http://nanchaos.com</a>ï¼Œä¸ä»…éœ€è¦è´­ä¹°åŸŸåè¿˜éœ€è¦è´­ä¹°DNSè§£ææœåŠ¡ï¼Œé€‰æ‹©è‡ªå·±é’Ÿçˆ±çš„äº‘æœåŠ¡å‚å•†ï¼Œæœ¬ç«™ä½¿ç”¨çš„æ˜¯è…¾è®¯äº‘ï¼Œï¼ˆåé¢å‘ç°å¥½åƒé˜¿é‡Œäº‘çš„DNSè§£ææœåŠ¡æ›´ä¾¿å®œäº›ï¼Œé˜¿é‡Œäº‘49ï¼Œè…¾è®¯äº‘99ğŸ˜­ğŸ˜­ğŸ˜­ï¼Œè´­ä¹°æ—¶é—´ä¸º2024.2.19ï¼Œçœ‹åˆ°æ–‡ç« æ—¶å¯èƒ½ä»·æ ¼æœ‰å˜åŠ¨ï¼Œè‡ªè¡Œé€‰æ‹©å³å¯ï¼‰<br>åœ¨é¡¹ç›®æ ¹ç›®å½•</p>
<h4 id="DNSè§£æ"><a href="#DNSè§£æ" class="headerlink" title="DNSè§£æ"></a>DNSè§£æ</h4><p>1.pingåŸŸåï¼Œè·å–ipåœ°å€<br>pingä¸€ä¸‹è‡ªå·±é¡¹ç›®çš„åŸŸåï¼Œè·å–ipåœ°å€ï¼Œæ¯”å¦‚æˆ‘è·å–çš„ipå°±æ˜¯<code>185.199.109.153</code></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ping nanchaos.github.com</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nanchaos@nanchaosdeMacBook-Pro ~ % ping nanchaos.github.com</span><br><span class="line">PING github.github.io (185.199.109.153): 56 data bytes</span><br><span class="line">64 bytes from 185.199.109.153: icmp_seq=0 ttl=48 time=82.240 ms</span><br><span class="line">64 bytes from 185.199.109.153: icmp_seq=1 ttl=48 time=82.856 ms</span><br><span class="line">64 bytes from 185.199.109.153: icmp_seq=2 ttl=48 time=82.438 ms</span><br><span class="line">64 bytes from 185.199.109.153: icmp_seq=3 ttl=48 time=82.084 ms</span><br><span class="line">64 bytes from 185.199.109.153: icmp_seq=4 ttl=48 time=83.008 ms</span><br><span class="line">64 bytes from 185.199.109.153: icmp_seq=5 ttl=48 time=82.032 ms</span><br><span class="line">64 bytes from 185.199.109.153: icmp_seq=6 ttl=48 time=82.575 ms</span><br><span class="line">64 bytes from 185.199.109.153: icmp_seq=7 ttl=48 time=81.910 ms</span><br><span class="line">^C</span><br><span class="line">--- github.github.io ping statistics ---</span><br><span class="line">8 packets transmitted, 8 packets received, 0.0% packet loss</span><br><span class="line">round-trip min/avg/max/stddev = 81.910/82.393/83.008/0.373 ms</span><br><span class="line">nanchaos@nanchaosdeMacBook-Pro ~ % </span><br></pre></td></tr></table></figure>

<p>2.é…ç½®DNSè§£æ<br>é…ç½®ä¸¤æ¡è®°å½•ï¼Œåˆ†åˆ«æ˜¯Aç±»å‹ä»¥åŠCNAMEç±»å‹ï¼Œç…§æŠ„å§ï¼Œæ³¨æ„æ›¿æ¢è‡ªå·±çš„åŸŸåä»¥åŠåœ°å€ï¼Œä¸è¿‡å¤šå™è¿°</p>
<ul>
<li>Aç±»å‹å¯¹åº”çš„è®°å½•å€¼æ˜¯pingè·å–åˆ°çš„ip</li>
<li>CNAMEå¯¹åº”çš„è®°å½•å€¼æ˜¯å¯¹åº”githubé¡¹ç›®çš„åœ°å€</li>
</ul>
<p><img src="/./../images/tecent_cloud_dns_config.png" alt="DNS Config"></p>
<h4 id="CNAME"><a href="#CNAME" class="headerlink" title="CNAME"></a>CNAME</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºåä¸º<code>CNAME</code>çš„æ–‡ä»¶ï¼Œå†…å®¹å¡«å†™ä¸ºè‡ªå·±è´­ä¹°çš„åŸŸå</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">www.nanchaos.com</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥å°±å¯ä»¥å°è¯•è®¿é—®è‡ªå·±è´­ä¹°çš„åŸŸåäº†</p>
<h2 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h2><p>TODO æœ‰ç©ºå†å†™ã€‚ã€‚ã€‚</p>
<p>ä»¥ä¸‹æ˜¯è‡ªå·±çš„ä¸€äº›ä¸ªæ€§åŒ–é…ç½®ï¼Œæ³¨æ„ç”„åˆ«ï¼Œæ˜¯å¦é€‚ç”¨äºè‡ªå·±ã€‚</p>
<h3 id="è®¾ç½®ä¸»é¢˜"><a href="#è®¾ç½®ä¸»é¢˜" class="headerlink" title="è®¾ç½®ä¸»é¢˜"></a>è®¾ç½®ä¸»é¢˜</h3><p>æœ¬ç«™ä½¿ç”¨çš„æ³¨æ„æ˜¯<a href="https://github.com/jerryc127/hexo-theme-butterfly?tab=readme-ov-file">Butterfly</a>ï¼Œé¦–å…ˆæ„Ÿè°¢å¤§ä½¬çš„å¼€å‘ï¼Œå…¶æ¬¡ï¼Œå¤§ä½¬çš„æ–‡ç« å·²ç»å¾ˆè¯¦ç»†çš„è®²è§£äº†é…ç½®ç»†èŠ‚</p>
<h4 id="è·å–ä¸»é¢˜"><a href="#è·å–ä¸»é¢˜" class="headerlink" title="è·å–ä¸»é¢˜"></a>è·å–ä¸»é¢˜</h4><p>é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼Œè·å–ä¸»é¢˜</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure>
<h4 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h4><p>ä¿®æ”¹<code>_config.yml</code>ä¸­çš„<code>theme</code>ä¸º<code>butterfly</code>ï¼Œæ­¤æ—¶æœ¬åœ°è¿è¡Œçš„è¯è¿˜ç¼ºå°‘é…ç½®</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure>

<h4 id="å¢åŠ Butterflyé…ç½®"><a href="#å¢åŠ Butterflyé…ç½®" class="headerlink" title="å¢åŠ Butterflyé…ç½®"></a>å¢åŠ Butterflyé…ç½®</h4><p>åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»ºåä¸º<code>_config.butterfly.yml</code>çš„æ–‡ä»¶ï¼Œå°†<code>themes/butterfly/_config.yml</code>æ–‡ä»¶ä¸­çš„å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°<code>_config.butterfly.yml</code>æ–‡ä»¶ä¸­ï¼Œæ­¤æ—¶å°±å¯ä»¥æ‰§è¡Œ<code>hexo s</code>æœ¬åœ°æŸ¥çœ‹æ•ˆæœäº†ï¼Œå…¶ä½™çš„ä¸ªæ€§åŒ–é…ç½®è¯·å‚è€ƒ<a href="https://butterfly.js.org/posts/21cfbf15/">å¤§ä½¬çš„blog</a>ï¼Œéƒ½æœ‰è¯¦ç»†è¯´æ˜ã€‚</p>
<h3 id="æ·»åŠ æœç´¢"><a href="#æ·»åŠ æœç´¢" class="headerlink" title="æ·»åŠ æœç´¢"></a>æ·»åŠ æœç´¢</h3><h4 id="æ·»åŠ æ¨¡å—"><a href="#æ·»åŠ æ¨¡å—" class="headerlink" title="æ·»åŠ æ¨¡å—"></a>æ·»åŠ æ¨¡å—</h4><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>
<h4 id="ä¿®æ”¹-config-yml"><a href="#ä¿®æ”¹-config-yml" class="headerlink" title="ä¿®æ”¹_config.yml"></a>ä¿®æ”¹<code>_config.yml</code></h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">post</span></span><br><span class="line">  <span class="attr">format:</span> <span class="string">html</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>

<h4 id="ä¿®æ”¹-config-butterfly-yml"><a href="#ä¿®æ”¹-config-butterfly-yml" class="headerlink" title="ä¿®æ”¹_config.butterfly.yml"></a>ä¿®æ”¹<code>_config.butterfly.yml</code></h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>æ•ˆæœå¦‚å›¾æ‰€ç¤º</p>
]]></content>
      <tags>
        <tag>HEXO</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>butterfly</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/02/20/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
</search>
